
<nav class="navbar navbar-expand-sm bg-light navbar-light">
    <ul class="navbar navbar-nav">
        <li>
            <button  (click)="onGetAllPatients()"class="btn btn-outline-info ml-3">Afficher tou les patients</button>
        </li>
        <li>
            <button  (click)="onGetPatientVaccine()"class="btn btn-outline-info ml-3">Patient Vacciner</button>
        </li>
        <li>
            <button (click)="onGetPatient()" class="btn btn-outline-info ml-3">Patient a jour</button>
        </li>
    </ul>
    <ul class="navbar-nav ml-auto">

        <li>
            <form #f="ngForm" (ngSubmit)="onSearch(f.value)">
                <div class="form-group">
                  <input ngModel name="keyword" class="form-control" type="text">
                  <button class="btn btn-outline">
                      <span class="fa fa-search"></span>
                  </button>  
                </div>
            </form>
        </li>
    </ul>

</nav>

<ng-container *ngIf="(patients$ |async) as result" [ngSwitch]="result.dataState">
    
    <ng-container *ngSwitchCase="DataStateEnum.LOADING">
        loading...
    </ng-container>
    <ng-container *ngSwitchCase="DataStateEnum.LOADING">
        <div class="alert-danger">
            {{result.errorMessage}}
        </div>
    </ng-container>
    <ng-container *ngSwitchCase="DataStateEnum.LOADED">
        <table class="table">
            <tr>
                <th>Id</th><th>Nom</th><th>Prenom</th><th>date_naissance</th>
            </tr>
    
            <tr *ngFor="let p of result.data ">
                    <td>{{p.id}}</td>
                    <td>{{p.nom}}</td>
                    <td>{{p.prenom}}</td>
                    <td>{{p.date_naissance}}</td>
    
            </tr>
        </table>
    </ng-container>
    
    
</ng-container>

    
<div class="container">
    

</div>